{% extends "layouts/base.html" %}

{% block content %}
    <table role="presentation" style="width:100%; border-bottom: 2px solid #4A90E2; margin-bottom: 20px;">
        <tr>
            <td style="text-align: left; font-size: 20px; color: #333; padding-bottom: 8px; font-weight: 600;">
                <span>ì˜¤ëŠ˜ì˜ ë‚ ì”¨</span>
            </td>
            <td style="text-align: right; font-size: 14px; font-weight: normal; color: #666; padding-bottom: 8px;">
                {% if data.weather_data and data.weather_data.city %}
                    <span>({{ data.weather_data.city }} {{ data.current_time_str }} ê¸°ì¤€)</span>
                {% else %}
                    <span>({{ data.current_time_str }} ê¸°ì¤€)</span>
                {% endif %}
            </td>
        </tr>
    </table>

    <div class="weather-card">
        {% include "components/weather_card.html" %}
        {% if data.weather_data and data.weather_data.ai_comment %}
            <p class="ai-comment">"{{ data.weather_data.ai_comment }}"</p>
        {% else %}
            <p class="ai-comment">"ì˜¤ëŠ˜ë„ ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ì„¸ìš”!"</p>
        {% endif %}
    </div>

    <h2 class="section-title">ì‹œê°„ëŒ€ë³„ ì˜ˆë³´</h2>
    <div class="weather-card" style="padding: 10px;">
        {% include "components/hourly_forecast.html" %}
    </div>
    
    <h2 class="section-title">ì£¼ìš” ë‰´ìŠ¤</h2>
    {% if data.news_data %}
        {% for article in data.news_data %}
            {% if not loop.first %}<hr class="news-divider">{% endif %}
            {% include "components/news_card.html" %}
        {% endfor %}
    {% else %}
        <p>í‘œì‹œí•  ë‰´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
    
    {% if data.web_url %}
    <div class="footer-link-small">
        <a href="{{ data.web_url }}" target="_blank">ì‹¤ì‹œê°„ ì •ë³´ í™•ì¸ ë° ì„¤ì • ë³€ê²½í•˜ê¸° ğŸš€</a>
    </div>
    {% endif %}
{% endblock %}